# ============================================
# CRM HỆ THỐNG - FILE CẤU HÌNH MÔI TRƯỜNG
# ============================================
# 
# HƯỚNG DẪN SỬ DỤNG:
# 1. Sao chép file này thành .env: cp env.example .env
# 2. Điền các giá trị phù hợp cho môi trường của bạn
# 3. KHÔNG commit file .env vào Git (đã được thêm vào .gitignore)
# 
# ============================================

# ============================================
# CẤU HÌNH MÔI TRƯỜNG
# ============================================
# Môi trường chạy ứng dụng
# Giá trị: development (phát triển) | production (sản xuất) | test (kiểm thử)
# Mặc định: development
# Lưu ý: 
#   - development: Sử dụng SQLite, logging chi tiết, token dài hạn
#   - production: Sử dụng MySQL, tối ưu hiệu suất, bảo mật cao
NODE_ENV=development

# ============================================
# CẤU HÌNH SERVER
# ============================================
# Cổng mà server backend sẽ lắng nghe
# Giá trị: Số cổng từ 1024-65535
# Mặc định: 3000
# Lưu ý: Đảm bảo cổng không bị chiếm dụng bởi ứng dụng khác
PORT=3001

# URL cơ sở của API (tùy chọn)
# Ví dụ: https://api.yourdomain.com hoặc http://localhost:3000
# Để trống sẽ tự động phát hiện từ request
# Mặc định: (tự động phát hiện)
API_BASE_URL=

# ============================================
# CẤU HÌNH DATABASE
# ============================================
# Loại database sử dụng
# Giá trị: mysql | sqlite
# Mặc định: 
#   - development: sqlite (tự động)
#   - production: mysql (tự động)
# Lưu ý: 
#   - SQLite: Phù hợp phát triển, không cần cài đặt server
#   - MySQL: Phù hợp production, hiệu suất cao, hỗ trợ nhiều kết nối đồng thời
DB_TYPE=mysql

# Địa chỉ host của MySQL server
# Giá trị: IP address hoặc domain name
# Mặc định: localhost
# Ví dụ: 
#   - Local: localhost hoặc 127.0.0.1
#   - Remote: 192.168.1.100 hoặc db.example.com
DB_HOST=103.104.119.144

# Cổng kết nối MySQL
# Giá trị: Số cổng MySQL (thường là 3306)
# Mặc định: 3306
# Lưu ý: Kiểm tra firewall nếu kết nối từ xa
DB_PORT=3306

# Tên người dùng database
# Giá trị: Tên user MySQL có quyền truy cập database
# Mặc định: root
# Lưu ý: 
#   - Production: Nên tạo user riêng với quyền hạn chế
#   - Không nên sử dụng root trong production
# Ví dụ: crm_user
DB_USERNAME=realcrm
# Hoặc sử dụng DB_USER (tương đương)
DB_USER=realcrm

# Mật khẩu database
# Giá trị: Mật khẩu của user MySQL
# Mặc định: (để trống)
# Lưu ý: 
#   - Production: Sử dụng mật khẩu mạnh (ít nhất 12 ký tự)
#   - Không commit mật khẩu vào Git
#   - Có thể sử dụng biến môi trường hệ thống để bảo mật hơn
DB_PASSWORD=Ticket!X123
# Tên database
# Giá trị: Tên database MySQL đã tạo
# Mặc định: crm
# Lưu ý: Database phải được tạo trước khi chạy ứng dụng
# Ví dụ: crm_db, crm_production
DB_DATABASE=realcrm
# Hoặc sử dụng DB_NAME (tương đương)
DB_NAME=realcrm

# Character set của database
# Giá trị: utf8mb4 (khuyến nghị) | utf8
# Mặc định: utf8mb4
# Lưu ý: utf8mb4 hỗ trợ đầy đủ emoji và ký tự đặc biệt
DB_CHARSET=utf8mb4

# Múi giờ của database
# Giá trị: +08:00 (GMT+8) | +00:00 (UTC) | Asia/Ho_Chi_Minh
# Mặc định: +08:00
# Lưu ý: Nên đặt cùng múi giờ với server để tránh lệch thời gian
DB_TIMEZONE=Asia/Ho_Chi_Minh

# ============================================
# CẤU HÌNH JWT (JSON Web Token)
# ============================================
# Secret key để ký Access Token
# Giá trị: Chuỗi ngẫu nhiên dài và phức tạp (ít nhất 32 ký tự)
# Mặc định: your-secret-key (KHÔNG AN TOÀN - PHẢI THAY ĐỔI!)
# Lưu ý: 
#   - Production: PHẢI tạo secret key mạnh và duy nhất
#   - Có thể dùng: openssl rand -base64 32
#   - Giữ bí mật, không chia sẻ hoặc commit vào Git
# Ví dụ: aB3$kL9#mN2@pQ7&rS5*tU8!vW1^xY4%zZ6
JWT_SECRET=your-secret-key-change-this-in-production

# Secret key để ký Refresh Token
# Giá trị: Chuỗi ngẫu nhiên khác với JWT_SECRET (ít nhất 32 ký tự)
# Mặc định: your-refresh-secret-key (KHÔNG AN TOÀN - PHẢI THAY ĐỔI!)
# Lưu ý: Nên khác với JWT_SECRET để tăng bảo mật
JWT_REFRESH_SECRET=your-refresh-secret-key-change-this-in-production

# Thời gian hết hạn của Access Token
# Giá trị: Số + đơn vị (s=giây, m=phút, h=giờ, d=ngày)
# Mặc định: 7d (7 ngày)
# Lưu ý: 
#   - Development: Tự động dùng 365d
#   - Production: Khuyến nghị 7d hoặc ngắn hơn để bảo mật
# Ví dụ: 1h, 24h, 7d, 30d
JWT_EXPIRES_IN=7d

# Thời gian hết hạn của Refresh Token
# Giá trị: Số + đơn vị (s=giây, m=phút, h=giờ, d=ngày)
# Mặc định: 30d (30 ngày)
# Lưu ý: 
#   - Development: Tự động dùng 90d
#   - Production: Khuyến nghị 30d
# Ví dụ: 7d, 30d, 90d
JWT_REFRESH_EXPIRES_IN=30d

# ============================================
# CẤU HÌNH API LOGISTICS (TÙY CHỌN)
# ============================================
# Cấu hình này chỉ cần thiết nếu bạn sử dụng tính năng tra cứu vận đơn

# ============================================
# KUAIDI100 API (快递100)
# ============================================
# Customer ID của Kuaidi100
# Lấy từ: https://www.kuaidi100.com/
EXPRESS_API_CUSTOMER=

# API Key của Kuaidi100
# Lấy từ: https://www.kuaidi100.com/
EXPRESS_API_KEY=

# URL API của Kuaidi100
# Mặc định: https://poll.kuaidi100.com/poll/query.do
# Thường không cần thay đổi
EXPRESS_API_URL=https://poll.kuaidi100.com/poll/query.do

# Timeout cho API request (milliseconds)
# Mặc định: 10000 (10 giây)
EXPRESS_API_TIMEOUT=10000

# ============================================
# KDNIAO API (快递鸟)
# ============================================
# Customer ID của KDNiao
# Lấy từ: https://www.kdniao.com/
KDNIAO_CUSTOMER_ID=

# API Key của KDNiao
# Lấy từ: https://www.kdniao.com/
KDNIAO_API_KEY=

# URL API của KDNiao
# Mặc định: https://api.kdniao.com/Ebusiness/EbusinessOrderHandle.aspx
# Thường không cần thay đổi
KDNIAO_API_URL=https://api.kdniao.com/Ebusiness/EbusinessOrderHandle.aspx

# ============================================
# GHI CHÚ QUAN TRỌNG
# ============================================
# 
# 1. BẢO MẬT:
#    - KHÔNG commit file .env vào Git
#    - Sử dụng mật khẩu mạnh cho database
#    - Tạo JWT secret key ngẫu nhiên và duy nhất
#    - Giới hạn quyền truy cập file .env (chmod 600)
#
# 2. PRODUCTION:
#    - Đặt NODE_ENV=production
#    - Sử dụng MySQL thay vì SQLite
#    - Tắt logging chi tiết
#    - Sử dụng HTTPS
#    - Cấu hình backup database định kỳ
#
# 3. TROUBLESHOOTING:
#    - Kiểm tra log: backend/logs/
#    - Kiểm tra kết nối database: telnet DB_HOST DB_PORT
#    - Kiểm tra cổng: netstat -an | grep PORT
#    - Xem chi tiết lỗi trong development mode
#
# 4. HỖ TRỢ:
#    - Xem tài liệu: README.md
#    - GitHub Issues: https://github.com/mrtinhnguyen/CRM/issues
#
# ============================================

